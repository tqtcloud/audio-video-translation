# 音频视频翻译项目环境配置示例
# 复制此文件为 .env 并填入实际的API密钥和配置

# ========================================
# 提供者选择配置
# ========================================

# 语音转文字服务提供者 (openai, volcengine)
STT_PROVIDER=volcengine

# 文字转语音服务提供者 (openai, volcengine)
TTS_PROVIDER=volcengine

# 翻译服务提供者 (openai, doubao)
TRANSLATION_PROVIDER=doubao

# ========================================
# OpenAI 配置 (当使用OpenAI提供者时)
# ========================================

# OpenAI API密钥 - 从 https://platform.openai.com/api-keys 获取
OPENAI_API_KEY=your_openai_api_key_here

# OpenAI API基础URL (可选，默认为官方API)
OPENAI_BASE_URL=https://api.openai.com/v1

# OpenAI组织ID (可选)
OPENAI_ORGANIZATION=your_organization_id_here

# ========================================
# 火山云通用访问密钥配置
# ========================================

# 火山云访问密钥ID - 用于TOS、ASR、TTS等服务
VOLCENGINE_ACCESS_KEY=your_volcengine_access_key

# 火山云访问密钥Secret - 用于TOS、ASR、TTS等服务  
VOLCENGINE_SECRET_KEY=your_volcengine_secret_key

# ========================================
# 火山云对象存储(TOS)配置
# ========================================

# TOS服务端点 (如: tos-cn-beijing.volces.com)
TOS_ENDPOINT=tos-cn-beijing.volces.com

# TOS区域 (如: cn-beijing)
TOS_REGION=cn-beijing

# TOS存储桶名称
TOS_BUCKET=your_tos_bucket_name

# ========================================
# 火山云语音识别(ASR)配置
# ========================================

# 火山云ASR应用ID - 从火山云控制台获取
VOLCENGINE_ASR_APP_ID=your_volcengine_asr_app_id

# 火山云ASR访问令牌 - 从火山云控制台获取
VOLCENGINE_ASR_ACCESS_TOKEN=your_volcengine_asr_access_token

# 火山云ASR密钥 - 从火山云控制台获取
VOLCENGINE_ASR_SECRET_KEY=your_volcengine_asr_secret_key

# ASR WebSocket服务器地址 (默认使用官方地址)
VOLCENGINE_ASR_WS_URL=wss://openspeech.bytedance.com/api/v1/asr

# ASR请求超时时间(秒)
VOLCENGINE_ASR_TIMEOUT=30

# ASR支持的音频格式 (pcm, wav, mp3, flac)
VOLCENGINE_ASR_AUDIO_FORMAT=wav

# ASR采样率 (8000, 16000, 24000, 48000)
VOLCENGINE_ASR_SAMPLE_RATE=16000

# ASR声道数 (1为单声道, 2为双声道)
VOLCENGINE_ASR_CHANNELS=1

# ========================================
# 火山云语音合成(TTS)配置
# ========================================

# 火山云TTS应用ID - 通常与ASR相同
VOLCENGINE_TTS_APP_ID=your_volcengine_tts_app_id

# 火山云TTS访问令牌 - 通常与ASR相同
VOLCENGINE_TTS_ACCESS_TOKEN=your_volcengine_tts_access_token

# 火山云TTS密钥 - 通常与ASR相同
VOLCENGINE_TTS_SECRET_KEY=your_volcengine_tts_secret_key

# TTS API基础URL
VOLCENGINE_TTS_BASE_URL=https://openspeech.bytedance.com/api/v1/tts

# TTS请求超时时间(秒)
VOLCENGINE_TTS_TIMEOUT=60

# TTS音频编码格式 (mp3, wav, pcm)
VOLCENGINE_TTS_ENCODING=mp3

# TTS采样率
VOLCENGINE_TTS_SAMPLE_RATE=24000

# TTS默认说话人 (中文: zh_female_aifei, zh_male_donaldduck; 英文: en_female_amanda, en_male_alex)
VOLCENGINE_TTS_DEFAULT_SPEAKER=zh_female_aifei

# TTS语速 (0.5-2.0, 1.0为正常语速)
VOLCENGINE_TTS_SPEED=1.0

# TTS音量 (0.1-1.0)
VOLCENGINE_TTS_VOLUME=1.0

# TTS音调 (0.5-2.0, 1.0为正常音调)
VOLCENGINE_TTS_PITCH=1.0

# ========================================
# 豆包大模型翻译配置
# ========================================

# 豆包API密钥 - 从火山云豆包控制台获取
DOUBAO_API_KEY=your_doubao_api_key

# 豆包API基础URL
DOUBAO_BASE_URL=https://ark.cn-beijing.volces.com/api/v3

# 豆包模型名称 - 从控制台获取具体的端点ID
DOUBAO_MODEL=your_doubao_model_endpoint

# 豆包请求超时时间(秒)
DOUBAO_TIMEOUT=30

# 豆包最大重试次数
DOUBAO_MAX_RETRIES=3

# 豆包单次请求最大token数
DOUBAO_MAX_TOKENS=4000

# 豆包温度参数 (0.0-1.0, 控制回复的随机性)
DOUBAO_TEMPERATURE=0.3

# 豆包top_p参数 (0.0-1.0, 控制回复的多样性)
DOUBAO_TOP_P=0.9

# ========================================
# 通用配置
# ========================================

# 日志级别 (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# 日志文件路径 (留空表示只输出到控制台)
LOG_FILE=logs/translation.log

# 上传文件存储目录
UPLOAD_DIR=./uploads

# 输出文件存储目录
OUTPUT_DIR=./output

# 临时文件存储目录
TEMP_DIR=./temp

# 作业状态文件路径
JOB_STATE_FILE=./job_states.json

# 作业状态保存间隔 (秒)
JOB_STATE_SAVE_INTERVAL=30

# 最大并发请求数
MAX_CONCURRENT_REQUESTS=5

# 最大并发作业数
MAX_CONCURRENT_JOBS=3

# 音频文件最大大小(MB)
MAX_AUDIO_FILE_SIZE=100

# 支持的音频格式 (用逗号分隔)
SUPPORTED_AUDIO_FORMATS=wav,mp3,flac,m4a,aac

# 音频采样率
AUDIO_SAMPLE_RATE=48000

# 音频处理质量
AUDIO_QUALITY=high

# 请求超时时间 (秒)
REQUEST_TIMEOUT=300

# ========================================
# 性能调优配置
# ========================================

# STT分块大小(字节) - 用于大文件分块处理
STT_CHUNK_SIZE=1048576

# 翻译批次大小 - 单次翻译的文本段数
TRANSLATION_BATCH_SIZE=10

# TTS并发数 - 同时合成的音频段数
TTS_CONCURRENCY=3

# 缓存启用 (true/false)
ENABLE_CACHE=true

# 缓存过期时间(小时)
CACHE_EXPIRY_HOURS=24

# ========================================
# 质量控制配置
# ========================================

# 音频质量检查启用 (true/false)
ENABLE_AUDIO_QUALITY_CHECK=true

# 最低音频质量分数 (0.0-1.0)
MIN_AUDIO_QUALITY_SCORE=0.7

# 翻译质量检查启用 (true/false)
ENABLE_TRANSLATION_QUALITY_CHECK=true

# 最低翻译质量分数 (0.0-1.0)
MIN_TRANSLATION_QUALITY_SCORE=0.7

# 自动质量报告 (true/false)
AUTO_QUALITY_REPORT=false

# ========================================
# 错误处理配置
# ========================================

# API调用重试次数
API_RETRY_COUNT=3

# 重试间隔(秒)
RETRY_INTERVAL=2

# 网络超时时间(秒)
NETWORK_TIMEOUT=30

# 错误报告启用 (true/false)
ENABLE_ERROR_REPORTING=true

# ========================================
# 开发和调试配置
# ========================================

# 调试模式 (true/false)
DEBUG_MODE=false

# 详细日志输出 (true/false)
VERBOSE_LOGGING=false

# 启用测试模式 (true/false)
TEST_MODE=false

# 保存中间文件 (true/false) - 调试时有用
SAVE_INTERMEDIATE_FILES=false

# 性能监控启用 (true/false)
ENABLE_PERFORMANCE_MONITORING=false

# ========================================
# 安全配置
# ========================================

# 启用API密钥加密存储 (true/false)
ENCRYPT_API_KEYS=false

# 加密密钥 (当启用加密时使用)
ENCRYPTION_KEY=your_encryption_key_here

# 启用请求签名验证 (true/false)
ENABLE_REQUEST_SIGNING=false

# ========================================
# 配置使用说明
# ========================================

# 1. 基础使用：
#    - 设置 STT_PROVIDER=volcengine
#    - 设置 TTS_PROVIDER=volcengine  
#    - 设置 TRANSLATION_PROVIDER=doubao
#    - 填入对应的API密钥和配置

# 2. 混合使用：
#    - 可以使用不同提供者的组合，例如：
#      STT_PROVIDER=openai
#      TTS_PROVIDER=volcengine
#      TRANSLATION_PROVIDER=doubao

# 3. 获取API密钥：
#    - OpenAI: https://platform.openai.com/api-keys
#    - 火山云: https://console.volcengine.com/
#    - 豆包: https://console.volcengine.com/ark/

# 4. 测试配置：
#    - 使用 scripts/validate_integration.py 验证配置
#    - 运行: python scripts/validate_integration.py --real-apis

# 5. 故障排除：
#    - 启用 DEBUG_MODE=true 获取详细日志
#    - 检查 LOG_FILE 中的错误信息
#    - 验证API密钥的有效性和权限